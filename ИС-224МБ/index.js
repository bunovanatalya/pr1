// === –ë–ê–ó–û–í–´–ô –°–ò–ù–¢–ê–ö–°–ò–° JS: –§–ò–ù–ê–ù–°–û–í–´–ô –ú–ï–ù–ï–î–ñ–ï–† ===
// –ó–∞–¥–∞–Ω–∏–µ: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ

let balance = 10000; // –Ω–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
const currency = "RUB"; // –≤–∞–ª—é—Ç–∞
let transactions = []; // –º–∞—Å—Å–∏–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

// –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
transactions = [
    { id: 1, type: "—Ä–∞—Å—Ö–æ–¥", category: "–µ–¥–∞", amount: 500, date: "2024-01-15", description: "–û–±–µ–¥ –≤ –∫–∞—Ñ–µ" },
    { id: 2, type: "–¥–æ—Ö–æ–¥", category: "–∑–∞—Ä–ø–ª–∞—Ç–∞", amount: 30000, date: "2024-01-10", description: "–ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ —è–Ω–≤–∞—Ä—å" },
    { id: 3, type: "—Ä–∞—Å—Ö–æ–¥", category: "—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç", amount: 1200, date: "2024-01-12", description: "–¢–∞–∫—Å–∏ –¥–æ —Ä–∞–±–æ—Ç—ã" },
    { id: 4, type: "—Ä–∞—Å—Ö–æ–¥", category: "—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", amount: 2500, date: "2024-01-14", description: "–ö–∏–Ω–æ" }
];

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞
function showBalance() {
    console.log(`\nüí∞ –¢–ï–ö–£–©–ò–ô –ë–ê–õ–ê–ù–°: ${balance} ${currency}`);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
function addTransaction(type, category, amount, description) {
    // TODO: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏:
    // id (—É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å –Ω–∞ 1 –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏),
    // type, category, amount, date (—Ç–µ–∫—É—â–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ "2024-01-20"),
    // description
    // –î–æ–±–∞–≤—å—Ç–µ –æ–±—ä–µ–∫—Ç –≤ –º–∞—Å—Å–∏–≤ transactions

    // TODO: –û–±–Ω–æ–≤–∏—Ç–µ –±–∞–ª–∞–Ω—Å:
    // –µ—Å–ª–∏ type = "–¥–æ—Ö–æ–¥" - —É–≤–µ–ª–∏—á–∏—Ç—å balance –Ω–∞ amount
    // –µ—Å–ª–∏ type = "—Ä–∞—Å—Ö–æ–¥" - —É–º–µ–Ω—å—à–∏—Ç—å balance –Ω–∞ amount

    console.log(`‚úÖ –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞: ${description}`);
    showBalance();
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
function showAllTransactions() {
    console.log("\nüìã –í–°–ï –¢–†–ê–ù–ó–ê–ö–¶–ò–ò:");
    console.log("=".repeat(60));

    // TODO: –ò—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª for –∏–ª–∏ forEach, –≤—ã–≤–µ–¥–∏—Ç–µ –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    // –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞: "[–¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥] –ö–∞—Ç–µ–≥–æ—Ä–∏—è: —Å—É–º–º–∞ (–æ–ø–∏—Å–∞–Ω–∏–µ)"
    // –ü—Ä–∏–º–µ—Ä: "—Ä–∞—Å—Ö–æ–¥  –µ–¥–∞: 500 RUB (–û–±–µ–¥ –≤ –∫–∞—Ñ–µ)"

    console.log("=".repeat(60));
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ —Ç–∏–ø—É
function filterTransactionsByType(type) {
    console.log(`\nüîç –¢–†–ê–ù–ó–ê–ö–¶–ò–ò (${type.toUpperCase()}):`);

    // TODO: –ò—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª, –Ω–∞–π–¥–∏—Ç–µ –∏ –≤—ã–≤–µ–¥–∏—Ç–µ —Ç–æ–ª—å–∫–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞
    // –ï—Å–ª–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ—Ç, –≤—ã–≤–µ–¥–∏—Ç–µ "–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥—Å—á—ë—Ç–∞ —Å—É–º–º—ã –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
function getTotalByCategory(category) {
    let total = 0;

    // TODO: –ò—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª, –ø–æ—Å—á–∏—Ç–∞–π—Ç–µ –æ–±—â—É—é —Å—É–º–º—É –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    // –£—á–∏—Ç—ã–≤–∞–π—Ç–µ –∏ –¥–æ—Ö–æ–¥—ã, –∏ —Ä–∞—Å—Ö–æ–¥—ã

    console.log(`\nüìä –û–±—â–∞—è —Å—É–º–º–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "${category}": ${total} ${currency}`);
    return total;
}


// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ–≤–µ—Ä—à–∏—Ç—å —Ç—Ä–∞—Ç—É
function canAfford(amount) {
    // TODO: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–∏ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π —Å—É–º–º—ã
    // –í–µ—Ä–Ω–∏—Ç–µ true –µ—Å–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, false –µ—Å–ª–∏ –Ω–µ—Ç
    // –í—ã–≤–µ–¥–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
function searchTransactions(keyword) {
    console.log(`\nüîé –ü–æ–∏—Å–∫: "${keyword}"`);
    let found = false;

    // TODO: –ò—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª, –Ω–∞–π–¥–∏—Ç–µ –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, –≤ –æ–ø–∏—Å–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö
    // —Å–æ–¥–µ—Ä–∂–∏—Ç—Å—è keyword (—Ä–µ–≥–∏—Å—Ç—Ä –Ω–µ —É—á–∏—Ç—ã–≤–∞–π—Ç–µ)
    // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ .includes() –∏–ª–∏ .toLowerCase()

    if (!found) {
        console.log("–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.");
    }
}

// –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
function runTests() {
    console.log("üöÄ –ó–ê–ü–£–°–ö –§–ò–ù–ê–ù–°–û–í–û–ì–û –ú–ï–ù–ï–î–ñ–ï–†–ê");
    console.log("=".repeat(60));

    showBalance();

    // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    addTransaction("—Ä–∞—Å—Ö–æ–¥", "–µ–¥–∞", 1200, "–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–∞ –Ω–µ–¥–µ–ª—é");
    addTransaction("–¥–æ—Ö–æ–¥", "—Ñ—Ä–∏–ª–∞–Ω—Å", 8000, "–ó–∞–∫–∞–∑ –Ω–∞ —Ñ—Ä–∏–ª–∞–Ω—Å–µ");
    addTransaction("—Ä–∞—Å—Ö–æ–¥", "—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è", 3500, "–†–µ—Å—Ç–æ—Ä–∞–Ω");

    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    showAllTransactions();

    // –§–∏–ª—å—Ç—Ä—É–µ–º
    filterTransactionsByType("—Ä–∞—Å—Ö–æ–¥");

    // –°—á–∏—Ç–∞–µ–º –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    getTotalByCategory("—Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è");

    // –ü–æ–∏—Å–∫
    searchTransactions("–ø—Ä–æ–¥—É–∫—Ç—ã");
    searchTransactions("–∑–∞—Ä–ø–ª–∞—Ç–∞");

    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç—Ä–∞—Ç—ã
    console.log("\nüí≥ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç—Ä–∞—Ç—ã:");
    canAfford(5000);
    canAfford(50000);

    console.log("\n‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ!");
}

runTests();